<!DOCTYPE html>
<html>
<head>
    <title>Interactive Lotka-Volterra Equations</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Interactive Lotka-Volterra Predator-Prey Model</h1>
    
    <p>The Lotka-Volterra equations describe the dynamics of biological systems in which two species interact, one as a predator and the other as prey. The model was developed independently by Alfred J. Lotka and Vito Volterra in the 1920s.</p>
    
    <div class="tabs">
        <div class="tab active" onclick="switchTab('equations')">Equations</div>
        <div class="tab" onclick="switchTab('code')">Python Implementation</div>
    </div>
    
    <div id="equations" class="tab-content active">
        <div class="equation-container">
            <h2>The Equations</h2>
            <p>The model consists of two first-order, non-linear differential equations:</p>
            
            <div class="equation">
                <p style="font-size: 20px; margin: 20px 0;">
                    <span class="term">
                        \(\frac{dx}{dt}\)
                        <span class="tooltip">
                            <strong>Rate of change of the prey population over time</strong><br>
                            This represents how the prey population changes at each moment in time.
                            <div class="code-snippet">
                                <pre><code class="python"># In Python differential equations, dx/dt is implemented as:
def dxdt(x, y, alpha, beta):
    return alpha * x - beta * x * y</code></pre>
                            </div>
                        </span>
                    </span>
                    = 
                    <span class="term">
                        \(\alpha\)
                        <span class="tooltip">
                            <strong>Prey growth rate</strong><br>
                            The natural reproduction rate of prey in the absence of predators.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, alpha is a constant parameter:
alpha = 1.1  # Example: Prey growth rate</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(x\)
                        <span class="tooltip">
                            <strong>Prey population size</strong><br>
                            The number of prey individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, x is tracked as an array over time:
x = np.zeros(n_steps)
x[0] = x0  # Initial prey population</code></pre>
                            </div>
                        </span>
                    </span>
                    - 
                    <span class="term">
                        \(\beta\)
                        <span class="tooltip">
                            <strong>Predation rate</strong><br>
                            The rate at which predators encounter and consume prey.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, beta is a constant parameter:
beta = 0.4  # Example: Predation rate coefficient</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(x\)
                        <span class="tooltip">
                            <strong>Prey population size</strong><br>
                            The number of prey individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, x is tracked as an array over time:
x = np.zeros(n_steps)
x[0] = x0  # Initial prey population</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(y\)
                        <span class="tooltip">
                            <strong>Predator population size</strong><br>
                            The number of predator individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, y is tracked as an array over time:
y = np.zeros(n_steps)
y[0] = y0  # Initial predator population</code></pre>
                            </div>
                        </span>
                    </span>
                </p>
            </div>
            
            <div class="equation">
                <p style="font-size: 20px; margin: 20px 0;">
                    <span class="term">
                        \(\frac{dy}{dt}\)
                        <span class="tooltip">
                            <strong>Rate of change of the predator population over time</strong><br>
                            This represents how the predator population changes at each moment in time.
                            <div class="code-snippet">
                                <pre><code class="python"># In Python differential equations, dy/dt is implemented as:
def dydt(x, y, gamma, delta):
    return -gamma * y + delta * x * y</code></pre>
                            </div>
                        </span>
                    </span>
                    = 
                    <span class="term">
                        \(-\gamma\)
                        <span class="tooltip">
                            <strong>Predator death rate</strong><br>
                            The natural mortality rate of predators in the absence of prey.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, gamma is a constant parameter:
gamma = 0.4  # Example: Predator mortality rate</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(y\)
                        <span class="tooltip">
                            <strong>Predator population size</strong><br>
                            The number of predator individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, y is tracked as an array over time:
y = np.zeros(n_steps)
y[0] = y0  # Initial predator population</code></pre>
                            </div>
                        </span>
                    </span>
                    + 
                    <span class="term">
                        \(\delta\)
                        <span class="tooltip">
                            <strong>Predator efficiency</strong><br>
                            The efficiency with which predators convert consumed prey into new predators.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, delta is a constant parameter:
delta = 0.1  # Example: Predator efficiency rate</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(x\)
                        <span class="tooltip">
                            <strong>Prey population size</strong><br>
                            The number of prey individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, x is tracked as an array over time:
x = np.zeros(n_steps)
x[0] = x0  # Initial prey population</code></pre>
                            </div>
                        </span>
                    </span>
                    <span class="term">
                        \(y\)
                        <span class="tooltip">
                            <strong>Predator population size</strong><br>
                            The number of predator individuals in the ecosystem.
                            <div class="code-snippet">
                                <pre><code class="python"># In the code, y is tracked as an array over time:
y = np.zeros(n_steps)
y[0] = y0  # Initial predator population</code></pre>
                            </div>
                        </span>
                    </span>
                </p>
            </div>
        </div>
        
        <h2>Explanation of the Model</h2>
        <p>The Lotka-Volterra model makes several important assumptions:</p>
        <ul>
            <li>The prey population would grow exponentially without predation</li>
            <li>The predator population would decline exponentially without prey to consume</li>
            <li>Predators consume prey according to a functional response that is proportional to both populations</li>
            <li>The ecosystem has no environmental complexity (e.g., no seasons, no places to hide)</li>
        </ul>
        
        <p>Despite its simplicity, the model captures the fundamental oscillatory dynamics often observed in predator-prey systems in nature.</p>
    </div>
    
    <div id="code" class="tab-content">
        <h2>Python Implementation</h2>
        <p>Below is a complete Python implementation of the Lotka-Volterra model using numerical integration:</p>
        
        <pre><code class="python">import numpy as np
import matplotlib.pyplot as plt
from scipy.integrate import solve_ivp

# Define the Lotka-Volterra equations
def lotka_volterra(t, z, alpha, beta, gamma, delta):
    """
    Implementation of the Lotka-Volterra predator-prey model.
    
    Parameters:
    -----------
    t : float
        Time (independent variable)
    z : array
        Current state [x, y] where:
        x : float - Prey population
        y : float - Predator population
    alpha : float
        Prey growth rate (reproduction rate of prey when no predators)
    beta : float
        Predation rate (rate at which predators consume prey)
    gamma : float
        Predator death rate (mortality rate of predators without prey)
    delta : float
        Predator efficiency (conversion rate of consumed prey into predator births)
    
    Returns:
    --------
    dzdt : array
        Rate of change [dx/dt, dy/dt]
    """
    x, y = z
    dxdt = alpha * x - beta * x * y  # Rate of change of prey population
    dydt = -gamma * y + delta * x * y  # Rate of change of predator population
    return [dxdt, dydt]

# Model parameters
alpha = 1.1  # Prey growth rate
beta = 0.4   # Predation rate
gamma = 0.4  # Predator death rate
delta = 0.1  # Predator efficiency

# Initial conditions
x0 = 10.0  # Initial prey population
y0 = 5.0   # Initial predator population

# Time parameters
t_span = (0, 100)  # Time range for simulation
t_eval = np.linspace(t_span[0], t_span[1], 1000)  # Points to evaluate solution at

# Solve the differential equations
solution = solve_ivp(
    fun=lambda t, z: lotka_volterra(t, z, alpha, beta, gamma, delta),
    t_span=t_span,
    y0=[x0, y0],
    t_eval=t_eval,
    method='RK45'  # Runge-Kutta method
)

# Extract results
t = solution.t
x = solution.y[0]  # Prey population over time
y = solution.y[1]  # Predator population over time

# Plot the results
plt.figure(figsize=(12, 8))

# Population over time
plt.subplot(2, 1, 1)
plt.plot(t, x, 'b-', label='Prey (x)')
plt.plot(t, y, 'r-', label='Predator (y)')
plt.grid(True)
plt.xlabel('Time')
plt.ylabel('Population')
plt.title('Lotka-Volterra Model: Population Dynamics')
plt.legend()

# Phase portrait
plt.subplot(2, 1, 2)
plt.plot(x, y, 'g-')
plt.grid(True)
plt.xlabel('Prey Population (x)')
plt.ylabel('Predator Population (y)')
plt.title('Phase Portrait')

plt.tight_layout()
plt.show()

# Print some statistics
print(f"Maximum prey population: {np.max(x):.2f}")
print(f"Maximum predator population: {np.max(y):.2f}")
print(f"Average prey population: {np.mean(x):.2f}")
print(f"Average predator population: {np.mean(y):.2f}")
</code></pre>
    </div>
    
    <script src="script.js"></script>
</body>
</html>